<div class="modal-header">
  <h3 class="modal-title">Settings</h3>
</div>
<div class="modal-body">

  <table class="table">
    <tr>
      <td>Account</td>
      <td>
        <select name="account" ng-model="user.data.account" ng-options="account for account in accounts" class="form-control"></select>
      </td>
    </tr>
    <tr>
      <td>Affiliate Accounts</td>
      <td><input ng-model="newAffiliateCode"  class="form-control vertical-space" placeholder="affiliate code" /></td>
      <td><input ng-model="newAffiliateAccount" class="form-control vertical-space" placeholder="ethereum adddress" /></td>
      <td>
        <button class="btn btn-primary pull-right vertical-space" ng-click="claimAffiliateCode()">
          <span>Create</span>
        </button>
      </td>
    </tr>
    <tr ng-show="user.data.affiliateCodes.length > 0">
      <td></td>
      <td>
        <select
        ng-model="affiliateCode"
        ng-options="code for code in user.data.affiliateCodes"
        class="form-control vertical-space"
        ></select>
      </td>
      <td><input ng-model="affiliateAccount" class="form-control vertical-space" placeholder="ethereum adddress" /></td>
      <td>
        <button class="btn btn-danger pull-right vertical-space" ng-click="releaseAffiliateCode()">
          <span>X</span>
        </button>
        <button class="btn btn-primary pull-right vertical-space" ng-click="updateAffiliateCode()">
          <span>Update</span>
        </button>
      </td>
    </tr>
    <tr>
      <td>Balance</td>
      <td><amounts value="balanceInEther" from="'ETH'" to="displayCurrencies"></amounts>
      </td>
    </tr>
    <tr>
      <td>Currency</td>
      <td>
        <select type="text" ng-model="user.data.currency" class="form-control" ng-options="currency for currency in currencies"></select>
      </td>
    </tr>
  </table>
  <h3>Keypairs <a ng-click="addKeypair()" class="btn btn-primary btn-xs" ng-show="!isChangingKeys">+</a></h3>
  <div class="alert alert-danger text-center" ng-show="user.keypairs.length === 0">
    You should create some keypairs
  </div>
  <div class="alert alert-info text-center" ng-show="isChangingKeys">
    <img src="images/balls.gif"> Updating
  </div>
  <table class="table">
    <tr ng-repeat="keypair in user.keypairs">
      <td>{{keypair.data.label}}</td>
      <td timestamp="keypair.data.timestamp/1000"></td>
      <td class="pull-right" ng-show="!isChangingKeys">
        <button
        class="btn"
        ng-class=
        "{'btn-success':keypair.id===user.keypair.id,'btn-default':keypair.id!==user.keypair.id}"
        ng-click="setPrimaryKeypair($index)"
        >
        Primary
      </button>
      <button class="btn btn-danger" ng-click="deleteKeypair($index)">
        Delete
      </button>
    </td>
  </tr>
</table>
<h3>Reset Account</h3>
<button class="btn btn-danger" ng-click="reset()">Reset Account</button>
</div>
<div class="modal-footer">
  <button class="btn btn-primary" type="button" ng-click="submit()">OK</button>
</div>